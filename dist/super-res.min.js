function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("q"),require("superagent"),require("route-parser")):"function"==typeof define&&define.amd?define(["q","superagent","route-parser"],t):e.superRes=t(e.Q,e.superagent,e.Route)}(this,function(e,t,r){"use strict";function n(e,t){return e.reduceRight(function(e,r){return r(e,t.header)},t.body)}function o(e,t,r){return e.reduceRight(function(e,r){return r(e,t.header)},r)}function u(e,t){var r={},n=new a(e,t,c({},s));return r.get=n.makeRequest.bind(n),r.query=r.get,n=new a(e,t,c({},s,{method:"POST"})),r.save=n.makeRequest.bind(n),n=new a(e,t,c({},s,{method:"PUT"})),r.put=n.makeRequest.bind(n),n=new a(e,t,c({},s,{method:"DELETE"})),r.remove=n.makeRequest.bind(n),r["delete"]=r.remove,r}var s=s={method:"GET",responseType:"json",transformRequest:[],transformResponse:[]},i=i||require("object.assign"),a=function(){function u(e,t,n){_classCallCheck(this,u),this.config=i({url:e},s,n),this.route=new r(this.config.url),this.defaultParams=t}return _createClass(u,[{key:"buildRequest",value:function(e,r){var n=this.config.method.toLowerCase(),u=t["delete"===n?"del":n](this.route.reverse(e));return u=u.accept(this.config.responseType),this.config.headers&&(u=u.set(this.config.headers)),this.config.timeout?u.timeout(this.config.timeout):u.clearTimeout(),r&&"get"===n?u=u.query(o(this.config.transformRequest,u,r)):r&&(u=u.send(o(this.config.transformRequest,u,r))),u}},{key:"makeRequest",value:function(r,o){var u=this,s=e.defer();return console.log(t),this.buildRequest(i({},this.defaultParams,r),o).end(function(e,t){console.log("here"),e?s.reject(e):s.resolve(n(u.config.transformResponse,t))}),s.promise}}]),u}(),c=c||require("object.assign"),f={};f.resource=function(e,t,r){var n=u(e,t);return r&&Object.getOwnPropertyNames(r).forEach(function(o){n[o]=new a(e,t,r[o]).makeRequest}),n},f.promiseWrapper=function(e){return function(t){var r=c({},t);return Object.getOwnPropertyNames(t).forEach(function(t){var n=r[t];r[t]=function(){for(var t=arguments.length,o=Array(t),u=0;t>u;u++)o[u]=arguments[u];var s=n.apply(r,o);return e.when(s)}}),r}};var h=f;return h});
//# sourceMappingURL=super-res.min.js.map